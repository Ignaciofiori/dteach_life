<%- include("../partials/head.ejs") %>
<%- include("../partials/header.ejs") %>
<main>
    <section class="containerForm">
        <h1>Registrarte</h1>
       
        <form action="/users/register" method="POST" enctype="multipart/form-data">
            <label for="nombre">Nombre:</label>
            <input type="text" name="nombre"  value="<%= locals.old && old.nombre ? old.nombre : null %>">
            <% if (locals.errors && errors.nombre ) { %>
                <div class="errors">
                    <%= errors.nombre.msg %> 
                </div>
                <% } %>

            <label for="apellido">Apellido:</label>
            <input type="text" name="apellido" id="apellido" value="<%= locals.old && old.apellido ? old.apellido : null %>">
            <% if (locals.errors && errors.apellido ) { %>
                <div class="errors">
                    <%= errors.apellido.msg%> 
                </div>
            <% } %>

            <label for="ubicacion">Ubicacion:</label>
            <input type="text" name="ubicacion" id="ubicacion" value="<%= locals.old && old.ubicacion ? old.ubicacion : null %>">
            <% if (locals.errors && errors.ubicacion ) { %>
                <div class="errors">
                    <%= errors.ubicacion.msg %> 
                </div>
            <% } %>

            <label for="descripcion">Descripcion:</label>
            <input type ="text" name="descripcion" id="descripcion" cols="30" rows="5" value="<%= locals.old && old.descripcion ? old.descripcion : null %>"></textarea>
            <% if (locals.errors && errors.descripcion ) { %>
                <div class="errors">
                    <%= errors.descripcion.msg %> 
                </div>
            <% } %>

            <label for="imagen">Imagen del Usuario:</label>
            <input type="file"  name="imagen" alt="Submit" width="48" height="48" value="<%= locals.old && old.imagen ? old.imagen : null %>">
            <% if (locals.errors && errors.imagen) { %>
                <div class="errors">
                    <%= errors.imagen.msg %> 
                </div>
            <% } %>

            <label for="email">Correo:</label>
            <input type="email" name="email" id="email" value="<%= locals.old && old.email ? old.email :null %>">
            <% if (locals.errors && errors.email ) { %>
                <div class="errors">
                    <%= errors.email.msg%> 
                </div>
            <% } %>

            <label for="categoria">Categoria:</label>

               <select name="categoria">
                <% categorias.forEach(element => { %>
                     
                <option value="<%= element.id%>">
                    <%=element.nombre %>
                </option>
                <% }) %>
               </select>

            <label for="password">Contrase√±a:</label>
            <input type="password" name="password" id="password" >
            <% if (locals.errors && errors.password ) { %>
                <div class="errors">
                    <%= errors.password.msg %> 
                </div>
            <% } %>

            <button type="submit">Enviar</button>
        </form>
    </section>
</main>
<%- include("../partials/footer.ejs") %>