<%- include("../partials/head.ejs") %>
<%- include("../partials/header.ejs") %>
<main>
    <section class="containerForm">
        <h1>Registrarte</h1>
       
        <form action="/users/register" method="POST" enctype="multipart/form-data" id="register">
            <label for="nombre">Nombre:</label>
            <input type="text" name="nombre" id="campoNombre"  value="<%= locals.old && old.nombre ? old.nombre : null %>">
            <% if (locals.errors && errors.nombre ) { %>
                <div class="errors">
                    <%= errors.nombre.msg %> 
                </div>
                <% } %>
                <div class="errors nombre" >
                    <ul></ul>
                </div>

            <label for="apellido">Apellido:</label>
            <input type="text" name="apellido" id="campoApellido" value="<%= locals.old && old.apellido ? old.apellido : null %>">
            <% if (locals.errors && errors.apellido ) { %>
                <div class="errors">
                    <%= errors.apellido.msg%> 
                </div>
            <% } %>
            <div class="errors apellido" >
                <ul></ul>
            </div>


            <label for="ubicacion">Ubicacion:</label>
            <input type="text" name="ubicacion" id="campoUbicacion" value="<%= locals.old && old.ubicacion ? old.ubicacion : null %>">
            <% if (locals.errors && errors.ubicacion ) { %>
                <div class="errors">
                    <%= errors.ubicacion.msg %> 
                </div>
            <% } %>
            <div class="errors ubicacion" >
                <ul></ul>
            </div>


            <label for="descripcion">Descripcion:</label>
            <input type ="text" name="descripcion" id="campoDescripcion" cols="30" rows="5" value="<%= locals.old && old.descripcion ? old.descripcion : null %>"></textarea>
            <% if (locals.errors && errors.descripcion ) { %>
                <div class="errors">
                    <%= errors.descripcion.msg %> 
                </div>
            <% } %>
            <div class="errors descripcionError" >
                <ul></ul>
            </div>

            <label for="imagen">Imagen del Usuario:</label>
            <input type="file"  name="imagen" id="campoImagen" alt="Submit" width="48" height="48" value="<%= locals.old && old.imagen ? old.imagen : null %>">
            <% if (locals.errors && errors.imagen) { %>
                <div class="errors">
                    <%= errors.imagen.msg %> 
                </div>
            <% } %>
            <div class="errors imagen" >
                <ul></ul>
            </div>

            <label for="email">Correo:</label>
            <input type="email" name="email" id="campoEmail" value="<%= locals.old && old.email ? old.email :null %>">
            <% if (locals.errors && errors.email ) { %>
                <div class="errors ">
                    <%= errors.email.msg%> 
                </div>
            <% } %>
            <div class="errors email" >
                <ul></ul>
            </div>

            <label for="categoria">Categoria:</label>

               <select name="categoria">
                <% categorias.forEach(element => { %>
                     
                <option value="<%= element.id%>">
                    <%=element.nombre %>
                </option>
                <% }) %>
               </select>

            <label for="password">Contraseña:</label>
            <input type="password" name="password" id="campoPassword" >
            <% if (locals.errors && errors.password ) { %>
                <div class="errors">
                    <%= errors.password.msg %> 
                </div>
            <% } %>
            <div class="errors password" >
                <ul></ul>
            </div>

            <label for="password2">Repetir Contraseña:</label>
            <input type="password" name="password2" id="campoPassword2" >
            <div class="errors password2" >
                <ul></ul>
            </div>

            <button class="botonEnviar" type="submit">Enviar</button>
        </form>
    </section>
    <script src="/js/usersRegister.js"></script>
</main>
<%- include("../partials/footer.ejs") %>